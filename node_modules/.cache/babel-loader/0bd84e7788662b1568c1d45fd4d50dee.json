{"ast":null,"code":"import _classCallCheck from\"/Users/rybina/Desktop/learn-front/learn-react/react-pr/module-2-total/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/rybina/Desktop/learn-front/learn-react/react-pr/module-2-total/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/rybina/Desktop/learn-front/learn-react/react-pr/module-2-total/my-app/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/rybina/Desktop/learn-front/learn-react/react-pr/module-2-total/my-app/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from\"react\";import Cervice from\"../cervice/Cervice\";import Item from\"../item/Item\";import'./ListItem.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListItem=/*#__PURE__*/function(_Component){_inherits(ListItem,_Component);var _super=_createSuper(ListItem);function ListItem(props){var _this;_classCallCheck(this,ListItem);_this=_super.call(this,props);_this.cervice=new Cervice();_this.state={loading:true,items:[],offset:0};_this.onItemsLoaded=function(newItems){_this.setState(function(_ref){var items=_ref.items,loading=_ref.loading;return{items:newItems,loading:false};});};_this.onRequest=function(offset){_this.cervice.getAllItems(offset).then(function(res){return _this.onItemsLoaded(res);});};_this.createItems=function(items){var elements=items.map(function(item){return/*#__PURE__*/_jsx(Item,{name:item.name,imgShiny:item.imgShiny,imgDef:item.imgDef,onClick:_this.props.onClick},item.id);});return elements;};_this.onNext=function(e){e.preventDefault();_this.setState({offset:_this.state.offset+3},function(){return _this.onRequest(_this.state.offset);});};_this.onPrev=function(e){e.preventDefault();_this.setState({offset:_this.state.offset-3},function(){return _this.onRequest(_this.state.offset);});};return _this;}_createClass(ListItem,[{key:\"componentDidMount\",value:function componentDidMount(){this.onRequest(this.state.offset);}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,items=_this$state.items,loading=_this$state.loading,offset=_this$state.offset;return/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[loading?null:this.createItems(items),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-wrapper\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(e){return _this2.onPrev(e);},disabled:offset===0?'disabled':null,children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn\",onClick:function onClick(e){return _this2.onNext(e);},disabled:offset===24?'disabled':null,children:\"Next\"})]})]})});}}]);return ListItem;}(Component);export default ListItem;","map":{"version":3,"sources":["/Users/rybina/Desktop/learn-front/learn-react/react-pr/module-2-total/my-app/src/components/listItem/ListItem.js"],"names":["Component","Cervice","Item","ListItem","props","cervice","state","loading","items","offset","onItemsLoaded","newItems","setState","onRequest","getAllItems","then","res","createItems","elements","map","item","name","imgShiny","imgDef","onClick","id","onNext","e","preventDefault","onPrev"],"mappings":"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","sourcesContent":["import { Component } from \"react\";\nimport Cervice from \"../cervice/Cervice\";\nimport Item from \"../item/Item\";\nimport './ListItem.css'\n\n\nclass ListItem extends Component {\n    constructor(props){\n        super(props)\n    }\n\n    cervice = new Cervice\n\n    state = {\n        loading: true,\n        items: [],\n        offset: 0,\n    }\n\n    onItemsLoaded = (newItems) => {\n        this.setState(({items, loading}) => ({\n            items: newItems,\n            loading: false,\n        }))\n    }\n\n    onRequest = (offset) => {\n        this.cervice\n        .getAllItems(offset)\n        .then(res => this.onItemsLoaded(res))\n    }\n\n    componentDidMount(){\n        this.onRequest(this.state.offset)\n    }\n\n    createItems = (items) => {\n        const elements = items.map(item => {\n            return <Item key = {item.id} name = {item.name} imgShiny = {item.imgShiny} imgDef = {item.imgDef} onClick={this.props.onClick}/>\n        })\n        return elements\n    }\n\n    onNext = (e) => {\n        e.preventDefault()\n        this.setState(\n            {\n                offset: this.state.offset + 3\n            }, () => this.onRequest(this.state.offset))\n    \n    }\n\n    onPrev = (e) => {\n        e.preventDefault()\n        this.setState(\n            {\n                offset: this.state.offset - 3\n            }, () => this.onRequest(this.state.offset))\n    \n    }\n        \n\n    render() {\n        const {items, loading, offset} = this.state\n        return(\n        <main> \n            <div className=\"container\">\n            {loading? null :  this.createItems(items)}\n            <div className=\"btn-wrapper\">\n                <button className=\"btn\" onClick={(e) => this.onPrev(e)} disabled={offset===0? 'disabled' : null}>Previous</button>\n                <button className=\"btn\" onClick={e => this.onNext(e)} disabled={offset===24? 'disabled' : null}>Next</button>\n            </div>\n            </div>\n\n        </main>    \n        )\n    }\n}\n\n\nexport default ListItem"]},"metadata":{},"sourceType":"module"}